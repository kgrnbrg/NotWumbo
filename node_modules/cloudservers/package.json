{
  "name": "cloudservers",
  "description": "A client implementation for Rackspace CloudServers in node.js",
  "version": "0.2.10",
  "author": {
    "name": "Nodejitsu Inc.",
    "email": "info@nodejitsu.com"
  },
  "maintainers": [
    {
      "name": "indexzero",
      "email": "charlie.robbins@gmail.com"
    },
    {
      "name": "bradleymeck",
      "email": "bradley.meck@gmail.com"
    }
  ],
  "repository": {
    "type": "git",
    "url": "git://github.com/nodejitsu/node-cloudservers.git"
  },
  "keywords": [
    "cloud computing",
    "api",
    "rackspace cloud",
    "cloudservers"
  ],
  "dependencies": {
    "pkginfo": "0.2.x",
    "request": "2.9.x"
  },
  "devDependencies": {
    "vows": "0.5.x"
  },
  "main": "./lib/cloudservers",
  "scripts": {
    "test": "vows test/*-test.js --spec"
  },
  "engines": {
    "node": ">= 0.4"
  },
  "_npmUser": {
    "name": "indexzero",
    "email": "charlie.robbins@gmail.com"
  },
  "_id": "cloudservers@0.2.10",
  "optionalDependencies": {},
  "_engineSupported": true,
  "_npmVersion": "1.1.2",
  "_nodeVersion": "v0.6.18",
  "_defaultsLoaded": true,
  "dist": {
    "shasum": "ab7cd82ae953e8fa9d7e503ecdf0115fb6dac6c3",
    "tarball": "http://registry.npmjs.org/cloudservers/-/cloudservers-0.2.10.tgz"
  },
  "readme": "# node-cloudservers\n\nA client implementation for Rackspace CloudServers in node.js\n\n\n## Installation\n\n### Installing npm (node package manager)\n<pre>\n  curl http://npmjs.org/install.sh | sh\n</pre>\n\n### Installing cloudservers\n<pre>\n  npm install cloudservers\n</pre>\n\n### [Getting Rackspace Account][4]\n\n## Usage\n\n[http://blog.nodejitsu.com/nodejs-cloud-server-in-three-minutes][3]\n\nThe node-cloudservers library is compliant with the [Rackspace CloudServers API][0]. Using node-cloudservers is easy for a variety of scenarios: authenticating, getting flavors and images, creating servers, and working with servers.\n\n### Getting Started\nBefore we can do anything with cloudfiles, we have to create a client with valid credentials. Cloudservers will authenticate for you automatically: \n<pre>\n  var cloudservers = require('cloudservers');\n  var config = {\n    auth : {\n      username: 'your-username',\n      apiKey: 'your-api-key'\n    }\n  };\n  var client = cloudservers.createClient(config);\n</pre>\n\n### Getting Flavors and Images\nThere are several entities in the [Rackspace CloudServer][4] ecosystem: images, flavors, and servers. Both the getFlavors and getImages methods take an optional first parameter which when set to true will return more details for the objects returned. Here's how to get the list of all available flavors and images associated with your Rackspace account:\n<pre>\n  client.getFlavors(function (err, flavors) {\n    // Dump the flavors we have just received\n    util.inspect(flavors);\n    example.flavors = flavors;\n  });\n\n  client.getImages(function (err, images) {\n    // Dump the flavors we have just received\n    util.inspect(images);\n    example.images = images;\n  });\n</pre>\n\n### Create Server\nIf you manually create servers yourself via the [Rackspace CloudServer][4] management console, you can skip this section. For dynamically load balanced applications like [nodejitsu][1], creating servers on-the-fly is important. To create a server, you will need the id of the image and flavor of the server. You can also pass an instance of a node-cloudservers Flavor or Image. \n\n<pre>\n  var options = {\n    name: 'test-server',\n    image: 49, // Ubuntu Lucid\n    flavor: 1, // 256 server\n  };\n\n  client.createServer(options, function (err, server) { \n    // Your server is now being built and will be ready shortly\n  });\n</pre> \n\n### Setting a 'personality' for a Server\nRackspace CloudServers exposes an API that allows you to include an arbitrary number of files less than 10kb on a new server. Each file must be Base64 encoded. To use this functionality in node-cloudservers just include the path and contents of each file when creating a server:\n<pre>\n  var options = {\n    name: 'test-server',\n    image: 49, // Ubuntu Lucid\n    flavor: 1, // 256 server\n    personality: [{\n      path: '/path/on/your/server/file.txt',\n      contents: new Buffer('hello world').toString('base64')\n    }]\n  };\n  \n  client.createServer(options, function (err, server) { \n    // Your server is now being built and will be ready shortly\n  });\n</pre>\n\n### Waiting for Servers to Become 'Active'\nOnce you've created a server, you can't work with it until it has become active. The node-cloudservers library is designed to allow you to wait for a server to meet a set of criteria:\n<pre>\n  server.setWait({ status: 'ACTIVE' }, 5000, function () {\n    // 'server' is now in the ACTIVE state and can be used normally.\n  });\n</pre>\n\n### Working with Servers\nIf you have already created a some [Rackspace CloudServer][4] instances it is easy to get them from your account with node-cloudservers with the getServers method. This method takes an optional first parameter that when set to true will return all details for the servers:\n<pre>\n  client.getServers(true, function (err, servers) {\n    // Inspect the servers that have been returned\n    util.inspect(servers);\n  });\n</pre>\n\nOnce you're working with servers that are already active there are several operations that you can perform on it:\n\n#### destroy\nThe 'destroy' method will delete a server from your [Rackspace CloudServer][4] account.\n<pre>\n  server.destroy(function () {\n    // Server has now been destroyed\n  });\n</pre>\n\n#### disableBackup\nThe 'disableBackup' method will disable the backup schedule for the Server.\n<pre>\n  server.disableBackup(function () {\n    // Server backup has now been disabled\n  });\n</pre>\n\n#### getAddresses\nThe 'getAddresses' method takes a callback which has the set of the valid IP addresses for the Server as a parameter. This method takes an optional first parameter with a value of 'public' or 'private', which will force only the public or private IP addresses to be returned respectively. \n<pre>\n  server.getAddresses(function (addresses) {\n    // Inspect the addresses that were returned\n    util.inspect(addresses);\n  });\n</pre>\n\n#### getBackup\nThe 'getBackup' method will get the backup schedule for the Server.\n<pre>\n  server.getBackup(function (backup) {\n    // Inspect the backup schedule that was returned\n    util.inspect(backup);\n  });\n</pre>\n\n#### getDetails\nThe 'getDetails' method will get the server with all details.\n<pre>\n  server.getDetails(function (server) {\n    // Inspect the server that was returned\n    util.inspect(server);\n  });\n</pre>\n\n#### updateBackup\nThe 'updateBackup' method will update the backup schedule of the server on which it is called.\n<pre>\n  var backup = backup = {\n    \"enabled\": true,\n    \"weekly\": \"THURSDAY\",\n    \"daily\": \"H_0400_0600\"\n  };\n  server.updateBackup(backup, function () {\n    // Backup schedule has now been updated to match 'backup'\n  });\n</pre>\n\n## Roadmap\n\n1. Get Server resize operations working: confirmResize, resize, revertResize.\n2. Get miscellaneous Server operations working: rebuild.  \n3. Get the core 'createImage' operation working.\n\n## Run Tests\nAll of the node-cloudservers tests are written in [vows][2], and cover all of the use cases described above. You will need to add your Rackspace API username and API key to test/data/test-config.json before running tests:\n<pre>\n  {\n    \"auth\": {\n      \"username\": \"your-username\",\n      \"apiKey\": \"your-apikey\"\n    }\n  }\n</pre>\n\nOnce you have valid Rackspace credentials you can run tests with [vows][2]:\n<pre>\n  vows test/*-test.js --spec\n</pre>\n\n### Running Personality tests\nOne common usage of the personality features in Rackspace CloudServers is to upload your own SSH keys for communicating with your new server. To run these tests you will need to generate a test key locally. \n<pre>\n  $ cd /path/to/node-cloudservers\n  $ mkdir test/fixtures\n  $ ssh-keygen -t rsa\n  Generating public/private rsa key pair.\n  Enter file in which to save the key (~/.ssh/id_rsa): /path/to/node-cloudservers/test/fixtures/testkey\n  Enter passphrase (empty for no passphrase): \n  Enter same passphrase again: \n  Your identification has been saved in /path/to/node-cloudservers/test/fixtures/testkey.\n</pre>\n\n<img alt= \"This project is built and supported by Nodejitsu. If it does not work as expected, please let us know and we will fix it\" src=\"https://github.com/nodejitsu/node-cloudservers/raw/master/assets/support-by-nodejitsu.png\"/></img>\n\n\n#### Author: [Charlie Robbins](http://www.charlierobbins.com)\n#### Contributors: [Elijah Insua](http://github.com/tmpvar) [Matthew Bergman](http://github.com/fotoverite)\n\n[0]: http://docs.rackspacecloud.com/servers/api/cs-devguide-latest.pdf\n[1]: http://nodejitsu.com\n[2]: http://vowsjs.org\n[3]: http://blog.nodejitsu.com/nodejs-cloud-server-in-three-minutes\n[4]: http://www.rackspacecloud.com/1469-0-3-13.html\n",
  "directories": {},
  "_shasum": "ab7cd82ae953e8fa9d7e503ecdf0115fb6dac6c3",
  "_from": "cloudservers@",
  "_resolved": "http://registry.npmjs.org/cloudservers/-/cloudservers-0.2.10.tgz",
  "bugs": {
    "url": "https://github.com/nodejitsu/node-cloudservers/issues"
  },
  "homepage": "https://github.com/nodejitsu/node-cloudservers"
}
